## PalBreed

帕鲁配种路线计算器

## 问题建模

考虑到帕鲁最多有四条特性（被动技能）, 不妨将目标帕鲁的特性视为 `[S1, S2, S3, S4]`. 我们假设我们想要的四个特性分别是 A, B, C, D，同时使用 `_` 表示无特性，`E` 表示（所有可能出现的）无关特性. 由于特性顺序不影响效果，因此我们可以将问题表述如下：

1. 当我们希望得到四特性帕鲁时，即目标条件为 `(S1 = A, S2 = B, S3 = C, S4 = D)`。
2. 当我们希望得到一特性、二特性或三特性帕鲁时，即目标条件为：
   - 一特性：`(S1 = A, S2 = _ | E, S3 = _ | E, S4 = _ | E)`
   - 二特性：`(S1 = A, S2 = B, S3 = _ | E, S4 = _ | E)`
   - 三特性：`(S1 = A, S2 = B, S3 = C, S4 = _ | E)`
    注意，这里我们将想要的特性总是排序到最前面的特性位置。

这样一来，我们可以用这样的六元组表示每个帕鲁（的配种状态），即 `S = (PID, G, S1, S2, S3, S4)`，其中 `PID` 表示帕鲁的标识符（名称或 ID），`G` 表示帕鲁性别。

在开始搜索配种路线时，我们首先提供所有含有所需特性的一特性帕鲁素材，随后录入白板（不含任何特性）的帕鲁。

<!-- 特别的，对于每种未提供雌雄白板的帕鲁，需要录入其能否捕捉到白板状态，如果能，则标记其可捕捉，否则标记其不可捕捉。对于可捕捉帕鲁，标记其捕获难度，暂定使用 10 表示 boss 级（时间刷新机制），4 表示稀有，1 表示普通。 -->

对于每个帕鲁状态，其代价即为 `a cakes`，即期望 a 个蛋糕和 b 个捕捉到的白板。

根据 `S` 定义，即其状态空间为 `帕鲁种类数 * 性别数 * 6 * 6 * 6 * 6`，其中帕鲁种类数约为 `200`，性别数为 `2`，因此状态空间大小为 `200 * 2 * 6 * 6 * 6 * 6 = 2,304,000`。

成本太高了，我们需要更快的方法。

## 问题转换

对于 `0 <= s_1 < s_2 < s_3 < ... < s_{n-1} < s_n <= 2000`，其中 `S = [s_1, s_2, ... s_n]` 是所有可选的槽，值均为非负整数，S 是所有点的取值范围。现在我们拥有一个含有颜色信息的点集，每个点含有颜色信息，颜色包括 A、B、C、D，E，F，G，H 八种，点的颜色可以是这八种构成的任意集合。对于两个点 a、b，如果这两个点在点集中，我们进行一次操作可以获得 `c=(a+b)/2` （不在 S 中时取最近的较小点），同时其颜色遵循这样的规则：对于 a、b 的颜色并集，先产生继承数量 40%:30%:20%:10% 产生 n=1:2:3:4，表示从颜色并集中继承 n 项；随后，如果颜色不满四个，则产生变异数量 40%:30%:20%:10% 产生 n=1:2:3:4，表示从E、F、G、H中新增 n 项（直到总数达到四项）。因此，我们可以知道我们要得到每种颜色所需的期望操作数量，并且我们可以知道 E、F、G、H 均为干扰项。

输入：给定我们已有的点，包括坐标和其颜色信息（颜色为 A/B/C/D 中的任意可空子集），问我们经过多少次的期望操作，能访问到 x 点并使 x 点具有 A+B+C+D 的染色，给出得到 A+B+C+D 的 x 点的最小期望操作次数以及路径。